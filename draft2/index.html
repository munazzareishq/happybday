<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Akshar:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #000;
            color: #FFB347;
            height: 100vh;
            width: 100vw;
            min-width: 1024px;
            overflow: hidden;
        }

        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-size: 100% 100%;
            background-position: center;
            background-repeat: no-repeat;
            display: none;
            z-index: 1;
        }

        .page.active {
            display: block;
            z-index: 10;
        }

        .page1 { background-image: url('assets/images/page1-birthday.png'); }
        .page2 { background-image: url('assets/images/page2-nazm-bg.png'); }
        .page3 { background-image: url('assets/images/page3-bg.png'); }
        .page4 { background-image: url('assets/images/page4-goodbye-bg.png'); }

        .content-container {
            position: absolute;
            top: 5%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 35px;
            border-radius: 20px;
            max-width: 850px;
            width: 92%;
            max-height: 70vh;
            overflow-y: auto;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 179, 71, 0.5);
        }

        .content-container::-webkit-scrollbar {
            width: 10px;
        }

        .content-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .content-container::-webkit-scrollbar-thumb {
            background: rgba(255, 179, 71, 0.7);
            border-radius: 10px;
        }

        .nazm-text {
            font-family: 'Akshar', sans-serif;
            font-size: 1.9rem;
            line-height: 1.4;
            text-align: center;
            color: #FFB347;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
        }

        .message-text {
            font-family: 'Poppins', sans-serif;
            font-size: 1.3rem;
            line-height: 1.6;
            text-align: left;
            color: #FFB347;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);
        }

        .nazm-para {
            margin-bottom: 35px;
            opacity: 1;
        }

        .message-para {
            margin-bottom: 30px;
            opacity: 1;
        }

        .text-line {
            margin-bottom: 8px;
        }

        .button-container {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            text-align: center;
            display: none;
        }

        .button-container.show {
            display: block;
        }

        .glow-button {
            background: #000;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            margin: 5px;
            box-shadow: 0 0 25px rgba(255, 179, 71, 0.6);
            animation: pulse 2s infinite;
            transition: all 0.3s ease;
        }

        .glow-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 35px rgba(255, 179, 71, 0.9);
        }

        .back-button {
            background: rgba(255, 179, 71, 0.2);
            border: 2px solid #FFB347;
            color: #FFB347;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 25px rgba(255, 179, 71, 0.6); }
            50% { box-shadow: 0 0 40px rgba(255, 179, 71, 0.9); }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            color: #FFB347;
            font-size: 1rem;
            animation: bounce 2s infinite;
            text-align: center;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        audio { display: none; }

        /* Fireworks and Floating Elements Animation */
        .fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: firework-explode 3s ease-out infinite;
        }

        .firework.color1 {
            background: #FF6B35;
            box-shadow: 0 0 10px #FF6B35;
        }

        .firework.color2 {
            background: #FFD23F;
            box-shadow: 0 0 10px #FFD23F;
        }

        @keyframes firework-explode {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            15% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(1);
            }
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            animation: float-up 6s ease-in-out infinite;
            pointer-events: none;
        }

        .heart1 { color: #FF6B35; }
        .heart2 { color: #FFD23F; }

        .floating-star {
            position: absolute;
            font-size: 16px;
            animation: float-up 8s ease-in-out infinite;
            pointer-events: none;
        }

        .star1 { color: #FF6B35; }
        .star2 { color: #FFD23F; }

        @keyframes float-up {
            0% {
                opacity: 0;
                transform: translateY(100vh) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) rotate(360deg);
            }
        }

        .sparkle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #FFD23F;
            border-radius: 50%;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
                box-shadow: 0 0 10px #FFD23F;
            }
        }

        @media (max-width: 1024px) {
            body { overflow-x: auto; }
        }
    </style>
</head>
<body>
    <!-- Page 1 -->
    <div class="page page1 active" id="page1">
        <!-- Fireworks Container -->
        <div class="fireworks-container" id="fireworksContainer"></div>
        
        <div class="button-container show">
            <button class="glow-button" id="btn1">Ek khas tohfa aapke liye</button>
        </div>
    </div>

    <!-- Page 2 -->
    <div class="page page2" id="page2">
        <div class="content-container" id="nazmContainer">
            <div class="nazm-text" id="nazmText"></div>
        </div>
        <div class="scroll-indicator" id="scrollHint2">Scroll down to continue ↓</div>
        <div class="button-container" id="buttons2">
            <button class="glow-button back-button" id="back2">← Back</button>
            <button class="glow-button" id="btn2">Thank you for reading the nazm dear Arya, please read my message ahead</button>
        </div>
        <audio id="nazmAudio" loop>
            <source src="assets/audio/nazm-music.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- Page 3 -->
    <div class="page page3" id="page3">
        <div class="content-container" id="messageContainer">
            <div class="message-text" id="messageText"></div>
        </div>
        <div class="scroll-indicator" id="scrollHint3">Scroll down to continue ↓</div>
        <div class="button-container" id="buttons3">
            <button class="glow-button back-button" id="back3">← Back</button>
            <button class="glow-button" id="btn3">A small goodbye note (wear headphones) </button>
        </div>
    </div>

    <!-- Page 4 -->
    <div class="page page4" id="page4">
        <div class="content-container" id="goodbyeContainer">
            <div class="message-text" id="goodbyeText"></div>
        </div>
        <div class="scroll-indicator" id="scrollHint4">Scroll down to finish ↓</div>
        <div class="button-container" id="buttons4">
            <button class="glow-button back-button" id="back4">← Back</button>
            <button class="glow-button" id="btn4">Thank you for this beautiful journey ❤️</button>
        </div>
        <audio id="goodbyeAudio" autoplay loop>
            <source src="assets/audio/goodbye-music.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
        // Content arrays
        const nazmParas = [
            "तेरे जल्वों की कसम, हर शब-ए-ग़म में दिया जलाया,\nतेरी यादों के सहारे ने दिल का जहाँ सजाया,\nफ़ासलों की सियाहियों में भी नूर-ए-वफ़ा पाया,\nमेरे वीरान ख़्वाबों ने बस तेरा नक़्श अपनाया।",
            
            "चाँदनी-सी अदा, सादगी का ताज तेरा सर,\nतेरे लम्स की ख़ुशबू में था बसा मेरा इक घर,\nराह-ए-दिल पे सदा तेरा रहा मुझको रहबर,\nमैं गिरा तो भी तसव्वुर ने थाम लिया ये सफ़र।",
            
            "तेरे जन्मदिन की दुआ, दिल से निकलती है मेरी जान,\nतेरी खुशियों के सितारों से सदा रोशन हो आसमान,\nमेरे हालात के बादल हों, या ज़माने का तूफ़ान,\nतेरी हँसी का सफ़र चलता रहे, हो न कभी भी वीरान।"
        ];

        const messageParas = [
            "Dear Arya,",
            
            "Wishing you the heartiest birthday! 🌸 May your grace, beauty, and simplicity take you to the greatest heights, and may you achieve every dream you cherish. That nazm, out of the many renditions I have written for you in my diary, was my small gift on your birthday. I hope you liked it.",
            
            "I am the same person who once confessed to you through the confessions page on Instagram at the end of April. I sincerely apologise for not continuing our conversation from my original account, even after you clearly asked me to and said you would not reply until I did so. I understood your concern that you did not want anyone else to read those words, which is why I reached out this time through this burner account.",
            
            "Back then, i had planned to wait until the endsems finished before reaching out properly from my original account. I did not want to disturb you further or create more confusion when things just before exams, as things had already escalated. Unfortunately, just as exams could end, some personal and family matters took an ugly turn. Life went downhill so much that I was even close to dropping out of our institute. Somehow, by balancing things, I managed to stay, and only now are things beginning to get back on track.",
            
            "Looking back, I realise how sudden and chaotic my earlier confessions must have felt. I am deeply sorry for all of it: for not respecting your request, for bombarding you again and again, and for failing to continue from my original account. I do not expect forgiveness, because you were right in your stand."
        ];

        const goodbyeParas = [
            "With how life is right now, I do not think it is the right time to come forward. I cannot say when, or even if, I will ever be able to. But please do not see me as someone who ever wished to hurt or trouble you. I have always been, and will remain, only a sincere admirer of your grace. If at any moment my actions gave the wrong impression, I apologise wholeheartedly.",
            
            "This time I do not expect a reply. This message is simply an apology, with my warmest wishes for your birthday. I hope life improves soon for me, so that someday you will at least know who I truly was. Until then, goodbye. And if things do not improve further, let this be the last goodbye, remembered as a poignant story that never even had the chance to begin.",
            
            "सदाओं को अल्फ़ाज़ मिलने न पाएं,\nन बादल घिरेंगे, न बरसात होगी,\nचराग़ों की लौ से सितारों की ज़ौ तक,\nतुम्हें मैं मिलूँगा, जहाँ जहाँ रात होगी।",
            
            "सितारों को आँखों में महफ़ूज़ रखना,\nबड़ी देर तक रात ही रात होगी,\nमुसाफ़िर हैं हम भी, मुसाफ़िर हो तुम भी,\nकिसी मोड़ पर फिर मुलाक़ात होगी।",
            
            "~Dr. Bashir Badr",
            
            "With respect and best wishes,\n'Muntazir' - your sincerest admirer"
        ];

        let currentPageNum = 1;

        // Wait for DOM to load completely
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, setting up buttons...');
            
            // Start fireworks animation on page 1
            startFireworks();
            startFloatingElements();
            
            // Get all buttons
            const btn1 = document.getElementById('btn1');
            const btn2 = document.getElementById('btn2');
            const btn3 = document.getElementById('btn3');
            const btn4 = document.getElementById('btn4');
            const back2 = document.getElementById('back2');
            const back3 = document.getElementById('back3');
            const back4 = document.getElementById('back4');

            // Add click listeners with error checking
            if (btn1) {
                btn1.addEventListener('click', function() {
                    console.log('Button 1 clicked!');
                    switchToPage(2);
                });
                console.log('Button 1 listener added');
            }

            if (btn2) {
                btn2.addEventListener('click', function() {
                    console.log('Button 2 clicked!');
                    switchToPage(3);
                });
            }

            if (btn3) {
                btn3.addEventListener('click', function() {
                    console.log('Button 3 clicked!');
                    switchToPage(4);
                });
            }

            if (btn4) {
                btn4.addEventListener('click', function() {
                    alert('Thank you for reading all this, Arya! 💝');
                });
            }

            if (back2) {
                back2.addEventListener('click', function() {
                    switchToPage(1);
                });
            }

            if (back3) {
                back3.addEventListener('click', function() {
                    switchToPage(2);
                });
            }

            if (back4) {
                back4.addEventListener('click', function() {
                    switchToPage(3);
                });
            }

            console.log('All buttons set up successfully!');
        });

        // Fireworks Animation Functions
        function startFireworks() {
            const container = document.getElementById('fireworksContainer');
            
            function createFirework() {
                const firework = document.createElement('div');
                firework.className = Math.random() > 0.5 ? 'firework color1' : 'firework color2';
                
                // Random position
                firework.style.left = Math.random() * 100 + '%';
                firework.style.top = Math.random() * 100 + '%';
                
                container.appendChild(firework);
                
                // Create explosion particles
                setTimeout(() => {
                    createExplosion(firework.offsetLeft, firework.offsetTop, container);
                }, 500);
                
                // Remove firework after animation
                setTimeout(() => {
                    if (firework.parentNode) {
                        firework.parentNode.removeChild(firework);
                    }
                }, 3000);
            }
            
            function createExplosion(x, y, container) {
                for (let i = 0; i < 8; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'sparkle';
                    particle.style.left = x + 'px';
                    particle.style.top = y + 'px';
                    
                    const angle = (i / 8) * 2 * Math.PI;
                    const distance = 50;
                    
                    setTimeout(() => {
                        particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                    }, 10);
                    
                    container.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 2000);
                }
            }
            
            // Create fireworks every 2 seconds
            setInterval(createFirework, 2000);
            
            // Create initial firework immediately
            createFirework();
        }

        function startFloatingElements() {
            const container = document.getElementById('fireworksContainer');
            
            function createFloatingHeart() {
                const heart = document.createElement('div');
                heart.className = Math.random() > 0.5 ? 'floating-heart heart1' : 'floating-heart heart2';
                heart.innerHTML = '♥';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
                heart.style.animationDelay = Math.random() * 3 + 's';
                
                container.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.parentNode.removeChild(heart);
                    }
                }, 6000);
            }
            
            function createFloatingStar() {
                const star = document.createElement('div');
                star.className = Math.random() > 0.5 ? 'floating-star star1' : 'floating-star star2';
                star.innerHTML = '✦';
                star.style.left = Math.random() * 100 + '%';
                star.style.fontSize = (Math.random() * 8 + 12) + 'px';
                star.style.animationDelay = Math.random() * 4 + 's';
                
                container.appendChild(star);
                
                setTimeout(() => {
                    if (star.parentNode) {
                        star.parentNode.removeChild(star);
                    }
                }, 8000);
            }
            
            // Create floating elements
            setInterval(createFloatingHeart, 3000);
            setInterval(createFloatingStar, 4000);
            
            // Create initial elements
            createFloatingHeart();
            createFloatingStar();
        }

        function switchToPage(pageNum) {
            console.log(`Switching from page ${currentPageNum} to page ${pageNum}`);
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show target page
            const targetPage = document.getElementById(`page${pageNum}`);
            targetPage.classList.add('active');
            currentPageNum = pageNum;
            
            // Stop all audio
            document.getElementById('nazmAudio').pause();
            document.getElementById('goodbyeAudio').pause();
            
            // Initialize content based on page
            setTimeout(() => {
                if (pageNum === 2) {
                    loadNazm();
                    document.getElementById('nazmAudio').play().catch(e => console.log('Audio blocked'));
                } else if (pageNum === 3) {
                    loadMessage();
                } else if (pageNum === 4) {
                    loadGoodbye();
                    document.getElementById('goodbyeAudio').play().catch(e => console.log('Audio blocked'));
                }
            }, 100);
        }

        function loadNazm() {
            const container = document.getElementById('nazmText');
            container.innerHTML = '';
            
            nazmParas.forEach((para, index) => {
                const paraDiv = document.createElement('div');
                paraDiv.className = 'nazm-para';
                
                const lines = para.split('\n');
                lines.forEach(line => {
                    const lineDiv = document.createElement('div');
                    lineDiv.className = 'text-line';
                    lineDiv.textContent = line;
                    paraDiv.appendChild(lineDiv);
                });
                
                container.appendChild(paraDiv);
            });
            
            setupScrollCheck('nazmContainer', 'buttons2', 'scrollHint2');
        }

        function loadMessage() {
            const container = document.getElementById('messageText');
            container.innerHTML = '';
            
            messageParas.forEach((para, index) => {
                const paraDiv = document.createElement('div');
                paraDiv.className = 'message-para';
                
                if (para.includes('\n')) {
                    const lines = para.split('\n');
                    lines.forEach(line => {
                        const lineDiv = document.createElement('div');
                        lineDiv.className = 'text-line';
                        lineDiv.textContent = line;
                        paraDiv.appendChild(lineDiv);
                    });
                } else {
                    paraDiv.textContent = para;
                }
                
                container.appendChild(paraDiv);
            });
            
            setupScrollCheck('messageContainer', 'buttons3', 'scrollHint3');
        }

        function loadGoodbye() {
            const container = document.getElementById('goodbyeText');
            container.innerHTML = '';
            
            goodbyeParas.forEach((para, index) => {
                const paraDiv = document.createElement('div');
                paraDiv.className = 'message-para';
                
                if (para.includes('\n')) {
                    const lines = para.split('\n');
                    lines.forEach(line => {
                        const lineDiv = document.createElement('div');
                        lineDiv.className = 'text-line';
                        lineDiv.textContent = line;
                        paraDiv.appendChild(lineDiv);
                    });
                } else {
                    paraDiv.textContent = para;
                }
                
                container.appendChild(paraDiv);
            });
            
            setupScrollCheck('goodbyeContainer', 'buttons4', 'scrollHint4');
        }

        function setupScrollCheck(containerId, buttonId, hintId) {
            const scrollContainer = document.getElementById(containerId);
            const buttonContainer = document.getElementById(buttonId);
            const hint = document.getElementById(hintId);
            
            scrollContainer.addEventListener('scroll', function() {
                const scrollTop = scrollContainer.scrollTop;
                const scrollHeight = scrollContainer.scrollHeight;
                const clientHeight = scrollContainer.clientHeight;
                
                if (scrollTop + clientHeight >= scrollHeight - 10) {
                    buttonContainer.classList.add('show');
                    if (hint) hint.style.display = 'none';
                }
            });
        }

        // Audio click handler
        document.addEventListener('click', function() {
            if (currentPageNum === 2) {
                document.getElementById('nazmAudio').play().catch(e => {});
            }
            if (currentPageNum === 4) {
                document.getElementById('goodbyeAudio').play().catch(e => {});
            }
        });

        console.log('Birthday website ready! Click the first button to test.');
    </script>
</body>
</html>